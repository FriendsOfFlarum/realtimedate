{"version":3,"sources":["webpack://@fof/realtimedate/webpack/bootstrap","webpack://@fof/realtimedate/./forum.js","webpack://@fof/realtimedate/./node_modules/dayjs/plugin/relativeTime.js","webpack://@fof/realtimedate/./node_modules/dayjs/plugin/updateLocale.js","webpack://@fof/realtimedate/./src/forum/index.js","webpack://@fof/realtimedate/external \"flarum.core.compat['app']\"","webpack://@fof/realtimedate/external \"flarum.core.compat['utils/humanTime']\""],"names":["app","initializers","add","config","thresholds","l","r","d","rounding","Math","round","dayjs","extend","relativeTime","updateLocale","future","past","s","ss","m","mm","h","hh","dd","M","MM","y","yy","updateHumanTimes","$","each","$this","ago","humanTime","attr","html","document","ready","setInterval"],"mappings":"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","file":"forum.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./forum.js\");\n","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/forum';\r\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){r=r||{};var n=t.prototype,o={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};e.en.relativeTime=o;var d=function(t,n,d,i){for(var u,a,f,s=d.$locale().relativeTime||o,l=r.thresholds||[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],h=l.length,m=0;m<h;m+=1){var c=l[m];c.d&&(u=i?e(t).diff(d,c.d,!0):d.diff(t,c.d,!0));var y=(r.rounding||Math.round)(Math.abs(u));if(f=u>0,y<=c.r||!c.r){y<=1&&m>0&&(c=l[m-1]);var p=s[c.l];a=\"string\"==typeof p?p.replace(\"%d\",y):p(y,n,c.l,f);break}}if(n)return a;var v=f?s.future:s.past;return\"function\"==typeof v?v(a):v.replace(\"%s\",a)};n.to=function(r,t){return d(r,t,this,!0)},n.from=function(r,t){return d(r,t,this)};var i=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(i(this),r)},n.fromNow=function(r){return this.from(i(this),r)}}});\n","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):e.dayjs_plugin_updateLocale=n()}(this,function(){\"use strict\";return function(e,n,t){t.updateLocale=function(e,n){var o=t.Ls[e];if(o)return(n?Object.keys(n):[]).forEach(function(e){o[e]=n[e]}),o}}});\n","import app from 'flarum/app';\nimport humanTime from 'flarum/utils/humanTime';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport updateLocale from 'dayjs/plugin/updateLocale';\n\napp.initializers.add('fof-realtimedate', () => {\n    var config = {\n        thresholds: [\n            { l: 's', r: 59, d: 'second' },\n            { l: 'ss', r: 10, },\n            { l: 'm', r: 1 },\n            { l: 'mm', r: 59, d: 'minute' },\n            { l: 'h', r: 1 },\n            { l: 'hh', r: 23, d: 'hour' },\n            { l: 'd', r: 1 },\n            { l: 'dd', r: 29, d: 'day' },\n            { l: 'M', r: 1 },\n            { l: 'MM', r: 11, d: 'month' },\n            { l: 'y' },\n            { l: 'yy', d: 'year' },\n        ],\n        rounding: Math.round,\n    };\n    dayjs.extend(relativeTime, config);\n\n    dayjs.extend(updateLocale);\n    dayjs.updateLocale('en', {\n        relativeTime: {\n            future: 'in %s',\n            past: '%s ago',\n            s: '%d seconds',\n            ss: 'a few seconds',\n            m: 'a minute',\n            mm: '%d minutes',\n            h: 'an hour',\n            hh: '%d hours',\n            d: 'a day',\n            dd: '%d days',\n            M: 'a month',\n            MM: '%d months',\n            y: 'a year',\n            yy: '%d years'\n        }\n    });\n\n    function updateHumanTimes() {\n        $('[data-humantime]').each(function () {\n            const $this = $(this);\n            const ago = humanTime($this.attr('datetime'));\n\n            $this.html(ago);\n        });\n    }\n\n    $(document).ready(function () {\n        setInterval(updateHumanTimes, 1000);\n    });\n});\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['utils/humanTime'];"],"sourceRoot":""}